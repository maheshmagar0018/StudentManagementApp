<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<!-- <title>Edit Student</title> -->

    <title>Edit Student</title>
    <link rel="stylesheet" type="text/css" th:href="@{/styles.css}" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script th:src="@{/js/validation.js}" defer="defer"></script>
    
     <style>
        body {
            background-color: #A9DFBF; /* Parrot Green */
        }
        .container {
            background-color: #F2F3F4; /* Silver */
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-top: 50px;
        }
        h2 {
            color: #3498DB; /* Belize Hole */
        }
        .btn-secondary {
            background-color: #EC7063; /* Alizarin */
            border-color: #EC7063;
            color: #FFFFFF; /* White */
        }
        .btn-secondary:hover {
            background-color: #D35400; /* Pumpkin */
            border-color: #D35400;
        }
        .btn-primary {
            background-color: #3498DB; /* Belize Hole */
            border-color: #3498DB;
            color: #FFFFFF; /* White */
        }
        .btn-primary:hover {
            background-color: #2980B9; /* Belize Hole - Darker */
            border-color: #2980B9;
        }
        .table {
            background-color: #FFFFFF; /* White */
        }
    </style>
    

</head>
<body>
<div class="container mt-5">
<h2>Edit Student</h2>
<a th:href="@{/admin-page}" class="btn btn-secondary mb-3">Home</a>

	<form th:object="${student}" th:action="@{/students/edit/{id}(id=${student.id})}" method="post" onsubmit="return validateForm()">
	<table class="table table-bordered">
	<thead class="thead-light">
            <tr>
                <!-- <th>ID</th> -->
                <th>First Name</th>
                <th>Last Name</th>
                <th>Age</th>
                <th>Date of Birth</th>
                <th>Gender</th>
                <th>Mobile Number</th>
                <th>Email</th>
                <th>Birth Place</th>
            </tr>
            </thead>
            <tbody>
            <tr>
	            <td><input type="text" class="form-control" th:field="*{firstName}"/></td>
	            <td><input type="text" class="form-control" th:field="*{lastName}"/></td>
	            <td><input type="number" class="form-control" th:field="*{age}"/></td>
	            <td><input type="date" class="form-control" th:field="*{dateOfBirth}"/></td>
	            <td>
                        <div class="form-check">
                            <input type="radio" class="form-check-input" th:field="*{gender}" value="Male" id="male" />
                            <label class="form-check-label" for="male">Male</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" class="form-check-input" th:field="*{gender}" value="Female" id="female" />
                            <label class="form-check-label" for="female">Female</label>
                        </div>
                    </td>
	            <td><input type="number" class="form-control" th:field="*{mobileNumber}"/></td>
	            <td><input type="email" class="form-control" th:field="*{email}"/></td>
	            <td>
                    <select class="form-control" th:field="*{birthPlace}">                 
            <option value=""></option>
            <option value="AP|Andhra Pradesh">Andhra Pradesh</option>
            <option value="AR|Arunachal Pradesh">Arunachal Pradesh</option>
            <option value="AS|Assam">Assam</option>
            <option value="BR|Bihar">Bihar</option>
            <option value="CT|Chhattisgarh">Chhattisgarh</option>
            <option value="GA|Goa">Goa</option>
            <option value="GJ|Gujarat">Gujarat</option>
            <option value="HR|Haryana">Haryana</option>
            <option value="HP|Himachal Pradesh">Himachal Pradesh</option>
            <option value="JK|Jammu and Kashmir">Jammu and Kashmir</option>
            <option value="JH|Jharkhand">Jharkhand</option>
            <option value="KA|Karnataka">Karnataka</option>
            <option value="KL|Kerala">Kerala</option>
            <option value="MP|Madhya Pradesh">Madhya Pradesh</option>
            <option value="MH|Maharashtra">Maharashtra</option>
            <option value="MN|Manipur">Manipur</option>
            <option value="ML|Meghalaya">Meghalaya</option>
            <option value="MZ|Mizoram">Mizoram</option>
            <option value="NL|Nagaland">Nagaland</option>
            <option value="OR|Odisha">Odisha</option>
            <option value="PB|Punjab">Punjab</option>
            <option value="RJ|Rajasthan">Rajasthan</option>
            <option value="SK|Sikkim">Sikkim</option>
            <option value="TN|Tamil Nadu">Tamil Nadu</option>
            <option value="TG|Telangana">Telangana</option>
            <option value="TR|Tripura">Tripura</option>
            <option value="UT|Uttarakhand">Uttarakhand</option>
            <option value="UP|Uttar Pradesh">Uttar Pradesh</option>
            <option value="WB|West Bengal">West Bengal</option>
            <option value="AN|Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
            <option value="CH|Chandigarh">Chandigarh</option>
            <option value="DN|Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
            <option value="DD|Daman and Diu">Daman and Diu</option>
            <option value="DL|Delhi">Delhi</option>
            <option value="LD|Lakshadweep">Lakshadweep</option>
            <option value="PY|Puducherry">Puducherry</option>    
                        
                    </select>
                </td>
             </tr>  
             </tbody> 
	    </table>
	    <br/>
	    <input type="submit" value="Save Changes" class="btn btn-primary"/>  
    </form>
  </div>
  
  <script th:inline="javascript">
        
        function validateForm(){
        	var firstName = document.getElementById('firstName').value;
        	var lastName = document.getElementById('lastName').value;
        	var age = document.getElementById('age').value;
            var dateOfBirth = document.getElementById('dateOfBirth').value;
            var gender = document.querySelector('input[name="gender"]:checked');
            var mobileNumber = document.getElementById('mobileNumber').value;
            var email = document.getElementById('email').value;
            var birthPlace = document.getElementById('birthPlace').value;
            
            var isValid = true;
            
            if(firstName.length < 3){
            	alert('firstNameError');
            	isValid = false;
            }
            
            if(lastName.length < 3){
            	alert('lastNameError');
            	isValid = false;
            }
            
            if(age < 18){
            	alert('ageError');
            	isValid = false;
            }
            
            if(!isValidDate(dateOfBirth)){
            	alert('dateOfBirthError');
            	isValid = false;
            }
            
            if (!gender) {
                alert('genderError');
                isValid = false;
            }

            if (mobileNumber.length !== 10 || isNaN(mobileNumber)) {
                alert('mobileNumberError');
                isValid = false;
            }

            if (!isValidEmail(email)) {
                alert('emailError');
                isValid = false;
            }
            
            if (birthPlace === '') {
                alert('birthPlaceError');
                isValid = false;
            }
            
            return isValid;
        }
               
    </script>  
</body>
</html>